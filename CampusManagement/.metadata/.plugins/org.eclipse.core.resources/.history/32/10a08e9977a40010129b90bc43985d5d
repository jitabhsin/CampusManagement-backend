package edu.infosys.lostAndFoundApplication.controller;

import java.util.List;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;
import edu.infosys.lostAndFoundApplication.bean.LostFoundItem;
import edu.infosys.lostAndFoundApplication.service.FuzzyLogic;

@RestController
@RequestMapping("/lost-found/fuzzy")
@CrossOrigin(origins = "http://localhost:3939")
public class FuzzyLogicController {

    @Autowired
    private FuzzyLogic fuzzyLogic; 

    @GetMapping("/lost/{lostItemId}")
    public List<LostFoundItem> getMatchingFoundItems(
            @PathVariable Long lostItemId,
            @RequestParam(defaultValue = "0.7") double threshold) {
        return fuzzyLogic.findMatchingFoundItems(lostItemId, threshold);
    }
}